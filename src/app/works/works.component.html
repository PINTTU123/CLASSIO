<div class="works-page">

  <div class="background-container">
    <img src="assets/interior-classio.jpg" alt="Background" class="background-image">
    <div class="overlay"></div>
  </div>

  <!-- Filters -->
  <div class="filter-bar container my-4 d-flex flex-wrap gap-3 justify-content-center">
    <button class="filter-btn" [class.active]="selectedFilter === 'All'" (click)="setFilter('All')">All</button>
    <button class="filter-btn" [class.active]="selectedFilter === 'Furniture'" (click)="setFilter('Furniture')">Furniture</button>
    <button class="filter-btn" [class.active]="selectedFilter === 'Painter'" (click)="setFilter('Painter')">Painter</button>
    <button class="filter-btn" [class.active]="selectedFilter === 'Plumber'" (click)="setFilter('Plumber')">Plumber</button>
  </div>

  <!-- Posts -->
  <div class="works-container container py-4">
    <div *ngFor="let job of jobs | jobCategory:selectedFilter" class="job-post mb-4">
      <!-- Header -->
      <div class="post-header d-flex align-items-center mb-3">
        <img src="assets/avatar.png" alt="Client Avatar" class="avatar me-3" />
        <div>
          <h6 class="mb-1">{{ job.clientName }}</h6>
          <small>{{ job.postedDate | date:'short' }} • {{ job.location }}</small>
        </div>
        <span class="badge ms-auto">{{ job.serviceType }}</span>
      </div>

      <!-- Details -->
      <div class="post-body mb-3">
        <p>{{ job.description }}</p>
        <p *ngIf="job.ingredients?.length">
          <strong>Materials:</strong> {{ job.ingredients?.join(', ') }}
        </p>
        <p>
          <strong>Completion Time:</strong> {{ job.completionTime }} | 
          <strong>Budget:</strong> ₹{{ job.budget }}
        </p>
      </div>

      <!-- Bidding -->
      <div class="post-actions d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-3 mt-3 pt-3 border-top">
        <p class="mb-2 mb-md-0 fw-bold highest-bid">Current Highest Bid: ₹{{ job.highestBid }}</p>
        <input type="number" class="form-control bid-input me-md-2" placeholder="Your Bid" [(ngModel)]="job.userBid" />
        <button class="btn bid-btn" (click)="placeBid(job)">Place Bid</button>
      </div>
    </div>
  </div>
</div>
